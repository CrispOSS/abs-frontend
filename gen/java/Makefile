JAVAC = javac
JAVAC_FLAGS = -sourcepath . -classpath ".:lib/:lib/java-cup-11b.jar"

JAVA = java
JAVA_FLAGS = -classpath ".:lib/:lib/java-cup-11b.jar"

CUP = java_cup.Main
CUPFLAGS = -nopositions -expect 100

JLEX = JLex.Main

all: test

test: absyn ABS/Yylex.class ABS/PrettyPrinter.class ABS/Test.class ABS/ComposVisitor.class ABS/AbstractVisitor.class ABS/FoldVisitor.class ABS/AllVisitor.class ABS/parser.class ABS/sym.class ABS/Test.class

.PHONY: absyn

%.class: %.java
	${JAVAC} ${JAVAC_FLAGS} $^

absyn: ABS/Absyn/AnyIdent.java ABS/Absyn/AnyIden.java ABS/Absyn/AnyTyIden.java ABS/Absyn/ListAnyIdent.java ABS/Absyn/Program.java ABS/Absyn/Prog.java ABS/Absyn/ListModule.java ABS/Absyn/Module.java ABS/Absyn/Modul.java ABS/Absyn/Export.java ABS/Absyn/AnyExport.java ABS/Absyn/AnyFromExport.java ABS/Absyn/StarExport.java ABS/Absyn/StarFromExport.java ABS/Absyn/ListExport.java ABS/Absyn/Import.java ABS/Absyn/AnyImport.java ABS/Absyn/AnyFromImport.java ABS/Absyn/StarFromImport.java ABS/Absyn/ListImport.java ABS/Absyn/ImportType.java ABS/Absyn/ForeignImport.java ABS/Absyn/NormalImport.java ABS/Absyn/Type.java ABS/Absyn/TUnderscore.java ABS/Absyn/TSimple.java ABS/Absyn/TGen.java ABS/Absyn/ListType.java ABS/Absyn/ListQType.java ABS/Absyn/QType.java ABS/Absyn/QTyp.java ABS/Absyn/QTypeSegment.java ABS/Absyn/QTypeSegmen.java ABS/Absyn/ListQTypeSegment.java ABS/Absyn/TType.java ABS/Absyn/TTyp.java ABS/Absyn/TTypeSegment.java ABS/Absyn/TTypeSegmen.java ABS/Absyn/ListTTypeSegment.java ABS/Absyn/ListDecl.java ABS/Absyn/Decl.java ABS/Absyn/TypeDecl.java ABS/Absyn/ExceptionDecl.java ABS/Absyn/DataDecl.java ABS/Absyn/DataParDecl.java ABS/Absyn/FunDecl.java ABS/Absyn/FunParDecl.java ABS/Absyn/InterfDecl.java ABS/Absyn/ExtendsDecl.java ABS/Absyn/ClassDecl.java ABS/Absyn/ClassParamDecl.java ABS/Absyn/ClassImplements.java ABS/Absyn/ClassParamImplements.java ABS/Absyn/ConstrIdent.java ABS/Absyn/SinglConstrIdent.java ABS/Absyn/ParamConstrIdent.java ABS/Absyn/ConstrType.java ABS/Absyn/EmptyConstrType.java ABS/Absyn/RecordConstrType.java ABS/Absyn/ListConstrType.java ABS/Absyn/ListUIdent.java ABS/Absyn/ListConstrIdent.java ABS/Absyn/FunBody.java ABS/Absyn/BuiltinFunBody.java ABS/Absyn/NormalFunBody.java ABS/Absyn/MethSignat.java ABS/Absyn/MethSig.java ABS/Absyn/ListMethSignat.java ABS/Absyn/ClassBody.java ABS/Absyn/FieldClassBody.java ABS/Absyn/FieldAssignClassBody.java ABS/Absyn/MethClassBody.java ABS/Absyn/ListClassBody.java ABS/Absyn/Block.java ABS/Absyn/Bloc.java ABS/Absyn/MaybeBlock.java ABS/Absyn/JustBlock.java ABS/Absyn/NoBlock.java ABS/Absyn/ListParam.java ABS/Absyn/Param.java ABS/Absyn/Par.java ABS/Absyn/ListStm.java ABS/Absyn/Stm.java ABS/Absyn/SExp.java ABS/Absyn/SBlock.java ABS/Absyn/SWhile.java ABS/Absyn/SReturn.java ABS/Absyn/SAss.java ABS/Absyn/SFieldAss.java ABS/Absyn/SDec.java ABS/Absyn/SDecAss.java ABS/Absyn/SIf.java ABS/Absyn/SIfElse.java ABS/Absyn/SSuspend.java ABS/Absyn/SSkip.java ABS/Absyn/SAssert.java ABS/Absyn/SAwait.java ABS/Absyn/SThrow.java ABS/Absyn/STryCatchFinally.java ABS/Absyn/SPrint.java ABS/Absyn/CatchBranch.java ABS/Absyn/CatchBranc.java ABS/Absyn/ListCatchBranch.java ABS/Absyn/MaybeFinally.java ABS/Absyn/JustFinally.java ABS/Absyn/NoFinally.java ABS/Absyn/Guard.java ABS/Absyn/VarGuard.java ABS/Absyn/FieldGuard.java ABS/Absyn/ExpGuard.java ABS/Absyn/AndGuard.java ABS/Absyn/Exp.java ABS/Absyn/ExpP.java ABS/Absyn/ExpE.java ABS/Absyn/ListPureExp.java ABS/Absyn/PureExp.java ABS/Absyn/EOr.java ABS/Absyn/EAnd.java ABS/Absyn/EEq.java ABS/Absyn/ENeq.java ABS/Absyn/ELt.java ABS/Absyn/ELe.java ABS/Absyn/EGt.java ABS/Absyn/EGe.java ABS/Absyn/EAdd.java ABS/Absyn/ESub.java ABS/Absyn/EMul.java ABS/Absyn/EDiv.java ABS/Absyn/EMod.java ABS/Absyn/ELogNeg.java ABS/Absyn/EIntNeg.java ABS/Absyn/EFunCall.java ABS/Absyn/EQualFunCall.java ABS/Absyn/ENaryFunCall.java ABS/Absyn/ENaryQualFunCall.java ABS/Absyn/EVar.java ABS/Absyn/EThis.java ABS/Absyn/EQualVar.java ABS/Absyn/ESinglConstr.java ABS/Absyn/EParamConstr.java ABS/Absyn/ELit.java ABS/Absyn/Let.java ABS/Absyn/If.java ABS/Absyn/Case.java ABS/Absyn/CaseBranch.java ABS/Absyn/CaseBranc.java ABS/Absyn/ListCaseBranch.java ABS/Absyn/ListPattern.java ABS/Absyn/Pattern.java ABS/Absyn/PIdent.java ABS/Absyn/PLit.java ABS/Absyn/PSinglConstr.java ABS/Absyn/PParamConstr.java ABS/Absyn/PUnderscore.java ABS/Absyn/Literal.java ABS/Absyn/LNull.java ABS/Absyn/LThis.java ABS/Absyn/LThisDC.java ABS/Absyn/LStr.java ABS/Absyn/LInt.java ABS/Absyn/EffExp.java ABS/Absyn/New.java ABS/Absyn/NewLocal.java ABS/Absyn/SyncMethCall.java ABS/Absyn/ThisSyncMethCall.java ABS/Absyn/AsyncMethCall.java ABS/Absyn/ThisAsyncMethCall.java ABS/Absyn/Get.java ABS/Absyn/Spawns.java ABS/Absyn/Ann.java ABS/Absyn/SimpleAnn.java ABS/Absyn/ListAnn.java ABS/Absyn/AnnDecl.java ABS/Absyn/AnnDec.java ABS/Absyn/ListAnnDecl.java ABS/Absyn/AnnType.java ABS/Absyn/AnnTyp.java ABS/Absyn/ListAnnType.java
	${JAVAC} ${JAVAC_FLAGS} $^

ABS/Yylex.java: ABS/Yylex
	${JAVA} ${JAVA_FLAGS} ${JLEX} ABS/Yylex

ABS/sym.java ABS/parser.java: ABS/ABS.cup
	${JAVA} ${JAVA_FLAGS} ${CUP} ${CUPFLAGS} ABS/ABS.cup
	mv sym.java parser.java ABS/

ABS/Yylex.class: ABS/Yylex.java ABS/sym.java

ABS/sym.class: ABS/sym.java

ABS/parser.class: ABS/parser.java ABS/sym.java

ABS/PrettyPrinter.class: ABS/PrettyPrinter.java

clean:
	rm -f ABS/Absyn/*.class ABS/*.class
	rm -f .dvi ABS.aux ABS.log ABS.ps  *.class

distclean: vclean

vclean:
	 rm -f ABS/Absyn/AnyIdent.java ABS/Absyn/AnyIden.java ABS/Absyn/AnyTyIden.java ABS/Absyn/ListAnyIdent.java ABS/Absyn/Program.java ABS/Absyn/Prog.java ABS/Absyn/ListModule.java ABS/Absyn/Module.java ABS/Absyn/Modul.java ABS/Absyn/Export.java ABS/Absyn/AnyExport.java ABS/Absyn/AnyFromExport.java ABS/Absyn/StarExport.java ABS/Absyn/StarFromExport.java ABS/Absyn/ListExport.java ABS/Absyn/Import.java ABS/Absyn/AnyImport.java ABS/Absyn/AnyFromImport.java ABS/Absyn/StarFromImport.java ABS/Absyn/ListImport.java ABS/Absyn/ImportType.java ABS/Absyn/ForeignImport.java ABS/Absyn/NormalImport.java ABS/Absyn/Type.java ABS/Absyn/TUnderscore.java ABS/Absyn/TSimple.java ABS/Absyn/TGen.java ABS/Absyn/ListType.java ABS/Absyn/ListQType.java ABS/Absyn/QType.java ABS/Absyn/QTyp.java ABS/Absyn/QTypeSegment.java ABS/Absyn/QTypeSegmen.java ABS/Absyn/ListQTypeSegment.java ABS/Absyn/TType.java ABS/Absyn/TTyp.java ABS/Absyn/TTypeSegment.java ABS/Absyn/TTypeSegmen.java ABS/Absyn/ListTTypeSegment.java ABS/Absyn/ListDecl.java ABS/Absyn/Decl.java ABS/Absyn/TypeDecl.java ABS/Absyn/ExceptionDecl.java ABS/Absyn/DataDecl.java ABS/Absyn/DataParDecl.java ABS/Absyn/FunDecl.java ABS/Absyn/FunParDecl.java ABS/Absyn/InterfDecl.java ABS/Absyn/ExtendsDecl.java ABS/Absyn/ClassDecl.java ABS/Absyn/ClassParamDecl.java ABS/Absyn/ClassImplements.java ABS/Absyn/ClassParamImplements.java ABS/Absyn/ConstrIdent.java ABS/Absyn/SinglConstrIdent.java ABS/Absyn/ParamConstrIdent.java ABS/Absyn/ConstrType.java ABS/Absyn/EmptyConstrType.java ABS/Absyn/RecordConstrType.java ABS/Absyn/ListConstrType.java ABS/Absyn/ListUIdent.java ABS/Absyn/ListConstrIdent.java ABS/Absyn/FunBody.java ABS/Absyn/BuiltinFunBody.java ABS/Absyn/NormalFunBody.java ABS/Absyn/MethSignat.java ABS/Absyn/MethSig.java ABS/Absyn/ListMethSignat.java ABS/Absyn/ClassBody.java ABS/Absyn/FieldClassBody.java ABS/Absyn/FieldAssignClassBody.java ABS/Absyn/MethClassBody.java ABS/Absyn/ListClassBody.java ABS/Absyn/Block.java ABS/Absyn/Bloc.java ABS/Absyn/MaybeBlock.java ABS/Absyn/JustBlock.java ABS/Absyn/NoBlock.java ABS/Absyn/ListParam.java ABS/Absyn/Param.java ABS/Absyn/Par.java ABS/Absyn/ListStm.java ABS/Absyn/Stm.java ABS/Absyn/SExp.java ABS/Absyn/SBlock.java ABS/Absyn/SWhile.java ABS/Absyn/SReturn.java ABS/Absyn/SAss.java ABS/Absyn/SFieldAss.java ABS/Absyn/SDec.java ABS/Absyn/SDecAss.java ABS/Absyn/SIf.java ABS/Absyn/SIfElse.java ABS/Absyn/SSuspend.java ABS/Absyn/SSkip.java ABS/Absyn/SAssert.java ABS/Absyn/SAwait.java ABS/Absyn/SThrow.java ABS/Absyn/STryCatchFinally.java ABS/Absyn/SPrint.java ABS/Absyn/CatchBranch.java ABS/Absyn/CatchBranc.java ABS/Absyn/ListCatchBranch.java ABS/Absyn/MaybeFinally.java ABS/Absyn/JustFinally.java ABS/Absyn/NoFinally.java ABS/Absyn/Guard.java ABS/Absyn/VarGuard.java ABS/Absyn/FieldGuard.java ABS/Absyn/ExpGuard.java ABS/Absyn/AndGuard.java ABS/Absyn/Exp.java ABS/Absyn/ExpP.java ABS/Absyn/ExpE.java ABS/Absyn/ListPureExp.java ABS/Absyn/PureExp.java ABS/Absyn/EOr.java ABS/Absyn/EAnd.java ABS/Absyn/EEq.java ABS/Absyn/ENeq.java ABS/Absyn/ELt.java ABS/Absyn/ELe.java ABS/Absyn/EGt.java ABS/Absyn/EGe.java ABS/Absyn/EAdd.java ABS/Absyn/ESub.java ABS/Absyn/EMul.java ABS/Absyn/EDiv.java ABS/Absyn/EMod.java ABS/Absyn/ELogNeg.java ABS/Absyn/EIntNeg.java ABS/Absyn/EFunCall.java ABS/Absyn/EQualFunCall.java ABS/Absyn/ENaryFunCall.java ABS/Absyn/ENaryQualFunCall.java ABS/Absyn/EVar.java ABS/Absyn/EThis.java ABS/Absyn/EQualVar.java ABS/Absyn/ESinglConstr.java ABS/Absyn/EParamConstr.java ABS/Absyn/ELit.java ABS/Absyn/Let.java ABS/Absyn/If.java ABS/Absyn/Case.java ABS/Absyn/CaseBranch.java ABS/Absyn/CaseBranc.java ABS/Absyn/ListCaseBranch.java ABS/Absyn/ListPattern.java ABS/Absyn/Pattern.java ABS/Absyn/PIdent.java ABS/Absyn/PLit.java ABS/Absyn/PSinglConstr.java ABS/Absyn/PParamConstr.java ABS/Absyn/PUnderscore.java ABS/Absyn/Literal.java ABS/Absyn/LNull.java ABS/Absyn/LThis.java ABS/Absyn/LThisDC.java ABS/Absyn/LStr.java ABS/Absyn/LInt.java ABS/Absyn/EffExp.java ABS/Absyn/New.java ABS/Absyn/NewLocal.java ABS/Absyn/SyncMethCall.java ABS/Absyn/ThisSyncMethCall.java ABS/Absyn/AsyncMethCall.java ABS/Absyn/ThisAsyncMethCall.java ABS/Absyn/Get.java ABS/Absyn/Spawns.java ABS/Absyn/Ann.java ABS/Absyn/SimpleAnn.java ABS/Absyn/ListAnn.java ABS/Absyn/AnnDecl.java ABS/Absyn/AnnDec.java ABS/Absyn/ListAnnDecl.java ABS/Absyn/AnnType.java ABS/Absyn/AnnTyp.java ABS/Absyn/ListAnnType.java ABS/Absyn/AnyIdent.class ABS/Absyn/AnyIden.class ABS/Absyn/AnyTyIden.class ABS/Absyn/ListAnyIdent.class ABS/Absyn/Program.class ABS/Absyn/Prog.class ABS/Absyn/ListModule.class ABS/Absyn/Module.class ABS/Absyn/Modul.class ABS/Absyn/Export.class ABS/Absyn/AnyExport.class ABS/Absyn/AnyFromExport.class ABS/Absyn/StarExport.class ABS/Absyn/StarFromExport.class ABS/Absyn/ListExport.class ABS/Absyn/Import.class ABS/Absyn/AnyImport.class ABS/Absyn/AnyFromImport.class ABS/Absyn/StarFromImport.class ABS/Absyn/ListImport.class ABS/Absyn/ImportType.class ABS/Absyn/ForeignImport.class ABS/Absyn/NormalImport.class ABS/Absyn/Type.class ABS/Absyn/TUnderscore.class ABS/Absyn/TSimple.class ABS/Absyn/TGen.class ABS/Absyn/ListType.class ABS/Absyn/ListQType.class ABS/Absyn/QType.class ABS/Absyn/QTyp.class ABS/Absyn/QTypeSegment.class ABS/Absyn/QTypeSegmen.class ABS/Absyn/ListQTypeSegment.class ABS/Absyn/TType.class ABS/Absyn/TTyp.class ABS/Absyn/TTypeSegment.class ABS/Absyn/TTypeSegmen.class ABS/Absyn/ListTTypeSegment.class ABS/Absyn/ListDecl.class ABS/Absyn/Decl.class ABS/Absyn/TypeDecl.class ABS/Absyn/ExceptionDecl.class ABS/Absyn/DataDecl.class ABS/Absyn/DataParDecl.class ABS/Absyn/FunDecl.class ABS/Absyn/FunParDecl.class ABS/Absyn/InterfDecl.class ABS/Absyn/ExtendsDecl.class ABS/Absyn/ClassDecl.class ABS/Absyn/ClassParamDecl.class ABS/Absyn/ClassImplements.class ABS/Absyn/ClassParamImplements.class ABS/Absyn/ConstrIdent.class ABS/Absyn/SinglConstrIdent.class ABS/Absyn/ParamConstrIdent.class ABS/Absyn/ConstrType.class ABS/Absyn/EmptyConstrType.class ABS/Absyn/RecordConstrType.class ABS/Absyn/ListConstrType.class ABS/Absyn/ListUIdent.class ABS/Absyn/ListConstrIdent.class ABS/Absyn/FunBody.class ABS/Absyn/BuiltinFunBody.class ABS/Absyn/NormalFunBody.class ABS/Absyn/MethSignat.class ABS/Absyn/MethSig.class ABS/Absyn/ListMethSignat.class ABS/Absyn/ClassBody.class ABS/Absyn/FieldClassBody.class ABS/Absyn/FieldAssignClassBody.class ABS/Absyn/MethClassBody.class ABS/Absyn/ListClassBody.class ABS/Absyn/Block.class ABS/Absyn/Bloc.class ABS/Absyn/MaybeBlock.class ABS/Absyn/JustBlock.class ABS/Absyn/NoBlock.class ABS/Absyn/ListParam.class ABS/Absyn/Param.class ABS/Absyn/Par.class ABS/Absyn/ListStm.class ABS/Absyn/Stm.class ABS/Absyn/SExp.class ABS/Absyn/SBlock.class ABS/Absyn/SWhile.class ABS/Absyn/SReturn.class ABS/Absyn/SAss.class ABS/Absyn/SFieldAss.class ABS/Absyn/SDec.class ABS/Absyn/SDecAss.class ABS/Absyn/SIf.class ABS/Absyn/SIfElse.class ABS/Absyn/SSuspend.class ABS/Absyn/SSkip.class ABS/Absyn/SAssert.class ABS/Absyn/SAwait.class ABS/Absyn/SThrow.class ABS/Absyn/STryCatchFinally.class ABS/Absyn/SPrint.class ABS/Absyn/CatchBranch.class ABS/Absyn/CatchBranc.class ABS/Absyn/ListCatchBranch.class ABS/Absyn/MaybeFinally.class ABS/Absyn/JustFinally.class ABS/Absyn/NoFinally.class ABS/Absyn/Guard.class ABS/Absyn/VarGuard.class ABS/Absyn/FieldGuard.class ABS/Absyn/ExpGuard.class ABS/Absyn/AndGuard.class ABS/Absyn/Exp.class ABS/Absyn/ExpP.class ABS/Absyn/ExpE.class ABS/Absyn/ListPureExp.class ABS/Absyn/PureExp.class ABS/Absyn/EOr.class ABS/Absyn/EAnd.class ABS/Absyn/EEq.class ABS/Absyn/ENeq.class ABS/Absyn/ELt.class ABS/Absyn/ELe.class ABS/Absyn/EGt.class ABS/Absyn/EGe.class ABS/Absyn/EAdd.class ABS/Absyn/ESub.class ABS/Absyn/EMul.class ABS/Absyn/EDiv.class ABS/Absyn/EMod.class ABS/Absyn/ELogNeg.class ABS/Absyn/EIntNeg.class ABS/Absyn/EFunCall.class ABS/Absyn/EQualFunCall.class ABS/Absyn/ENaryFunCall.class ABS/Absyn/ENaryQualFunCall.class ABS/Absyn/EVar.class ABS/Absyn/EThis.class ABS/Absyn/EQualVar.class ABS/Absyn/ESinglConstr.class ABS/Absyn/EParamConstr.class ABS/Absyn/ELit.class ABS/Absyn/Let.class ABS/Absyn/If.class ABS/Absyn/Case.class ABS/Absyn/CaseBranch.class ABS/Absyn/CaseBranc.class ABS/Absyn/ListCaseBranch.class ABS/Absyn/ListPattern.class ABS/Absyn/Pattern.class ABS/Absyn/PIdent.class ABS/Absyn/PLit.class ABS/Absyn/PSinglConstr.class ABS/Absyn/PParamConstr.class ABS/Absyn/PUnderscore.class ABS/Absyn/Literal.class ABS/Absyn/LNull.class ABS/Absyn/LThis.class ABS/Absyn/LThisDC.class ABS/Absyn/LStr.class ABS/Absyn/LInt.class ABS/Absyn/EffExp.class ABS/Absyn/New.class ABS/Absyn/NewLocal.class ABS/Absyn/SyncMethCall.class ABS/Absyn/ThisSyncMethCall.class ABS/Absyn/AsyncMethCall.class ABS/Absyn/ThisAsyncMethCall.class ABS/Absyn/Get.class ABS/Absyn/Spawns.class ABS/Absyn/Ann.class ABS/Absyn/SimpleAnn.class ABS/Absyn/ListAnn.class ABS/Absyn/AnnDecl.class ABS/Absyn/AnnDec.class ABS/Absyn/ListAnnDecl.class ABS/Absyn/AnnType.class ABS/Absyn/AnnTyp.class ABS/Absyn/ListAnnType.class
	 rm -f ABS/Absyn/*.class
	 rmdir ABS/Absyn/
	 rm -f ABS/Yylex ABS/ABS.cup ABS/Yylex.java ABS/VisitSkel.java ABS/ComposVisitor.java ABS/AbstractVisitor.java ABS/FoldVisitor.java ABS/AllVisitor.java ABS/PrettyPrinter.java ABS/Skeleton.java ABS/Test.java ABS/sym.java ABS/parser.java ABS/*.class
	rm -f Makefile
	rmdir -p ABS/

